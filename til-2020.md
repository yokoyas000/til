# 2020

---
## 2020-04-05
---
### xdebug のパラメータの意味
- 参考 : [[PHP] Xdebug のリモートデバッグ、理解していますか？](https://qiita.com/castaneai/items/d5fdf577a348012ed8af)
- `xdebug.remote_connect_back=1` を指定していれば、hostを指定しなくて大丈夫
- もし指定が必要になったら `xdebug.remote_host=10.0.2.2` というのがある
    - 「10.0.2.2」は vgrant の時のお約束らしい。
    - `vagrant ssh` した時にも `Last login: Sun Apr  5 11:07:58 2020 from 10.0.2.2` とか出る

### homestead と vscode で xdebug を利用したい場合
- homestead 側は設定されているので特に変更は必要ない
- vscode 側に `PHP Debug` プラグインを入れ、どこぞにブレークポイントを仕込んでF5でリモートデバッグを開始すればok。
    - 参考 : [Laravel Homestead + Visual Studio Code + Xdebugでデバッグ環境構築](https://qiita.com/itigoore01/items/c0e8ef5756503ef588d1)
    - リモートデバッグ開始し忘れて「動かない(泣)」ってなってた...

---
## 2020-04-07
---
### Laravel の make:auth でルーティングが変わる
- 参考: [LaravelのAuth認証機能をカスタマイズし意図した挙動へ変更するTips](https://www.ritolab.com/entry/86)
- `routes/web.php` の記述をコメントアウトすると Auth 系のルートが消える
    ```php:routes/web.php
    Auth::routes();
    ```
    - `php artisan route:list` コマンドで確認できる

- 実際のルーティング設定を行なっているのは `Laravel/ui/src/AuthRouteMethods.php`
    ```php:Laravel/ui/src/AuthRouteMethods.php
    namespace Laravel\Ui;

    class AuthRouteMethods
    {
        /**
         * Register the typical authentication routes for an application.
         */
        public function auth()
        {
            return function ($options = []) {
                // Authentication Routes...
                $this->get('login', 'Auth\LoginController@showLoginForm')->name('login');
                $this->post('login', 'Auth\LoginController@login');
                $this->post('logout', 'Auth\LoginController@logout')->name('logout');

                // Registration Routes...
                if ($options['register'] ?? true) {
                    $this->get('register', 'Auth\RegisterController@showRegistrationForm')->name('register');
                    $this->post('register', 'Auth\RegisterController@register');
                }

                // ...

                // Password Confirmation Routes...
                if ($options['confirm'] ??
                    class_exists($this->prependGroupNamespace('Auth\ConfirmPasswordController'))) {
                    $this->confirmPassword();
                }

                // ...
            };
        }

    }
    ```
    - ここの処理に行き着くまでの流れがよくわからん...

---
## 2020-04-08
---
### vscode の単語検索で勝手に除外されるフォルダがある
- どうやら gitignore に指定しているファイルは検索から除外するのがデフォルトの挙動らしい
- vscode の `setting.json` に以下を記述
    ```json:setting.json
    "search.useIgnoreFiles": false,
    ```
    - 参考: [VSCodeでvendor配下のファイルが検索できない](https://lighthouse-dev.github.io/vscode-search-setting/)
    - `cmd + p` のファイル検索やコードジャンプにも影響してるっぽい？快適になった。